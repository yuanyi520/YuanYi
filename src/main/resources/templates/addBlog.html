<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../static/mdeditor/css/editormd.min.css">
    <link rel="stylesheet" href="../static/css/index.css">
    <link rel="stylesheet" href="../static/css/addblog.css">
    <script src="../static/js/jquery.min.js"></script>
    <script src="../static/mdeditor/editormd.min.js"></script>
    <script src="../static/js/common/util.js"></script>
</head>
<body>
    <header class="header">
        <div class="header_content">
            <a href="/" class="header_content_a">Artemis</a>
            <ul>
                <li><a href="/">首页</a></li>
                <li><a href="/addBlog" target="_blank">新增</a></li>
                <li><a href="">归档</a></li>
                <li><a href="">关于</a></li>
            </ul>
        </div>
    </header>
    <div class="add_body">
        <div class="body_title">
            <div>
                <span class="">
                    时间
                    <input class="" type="text" id="time" disabled>
                </span>
            </div>
            <div>
                <span class="">
                    标题
                    <input class="" type="text" id="input-1">
                </span>
            </div>
        </div>
        <div id="my-editormd" >
            <textarea style="display:none;"></textarea>
        </div>
        <input type="button" value="保存" onclick="submit()">
    </div>
</body>

<script>
    var myEditor = editormd("my-editormd", {    //这里的就是上面的DIV的id属性值
        width   : "100%",
        height  : 640,
        theme: "dark",  //工具栏样式
        editorTheme: "pastel-on-dark",
        previewTheme: "dark",   //编辑框样式
        syncScrolling : "single",
        path    : "../static/mdeditor/lib/",
        saveHTMLToTextarea : true,  //这个配置，方便post提交表单
        imageUpload: true,
            imageFormats: ["jpg", "jpeg", "gif", "png", "bmp", "webp"],
            imageUploadURL: "/Center/RichTextUpload",
            onload: function () {
                //console.log('onload', this);
                //this.fullscreen();
                //this.unwatch();
                //this.watch().fullscreen();
 
                //this.setMarkdown("#PHP");
                //this.width("100%");
                //this.height(480);
                //this.resize("100%", 640);
            }

    });

    //获取当前时间
    $("#time").val(getTime(1));
    //获取编辑器内容
    // var blogcontent = encodeURIComponent(testEditor.getMarkdown());
    function submit(){
        console.log(myEditor.getMarkdown());
    }
</script>
</html>